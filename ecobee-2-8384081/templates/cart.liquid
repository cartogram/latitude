{% comment %}

This is your /cart template. If you are using the Ajaxify Cart plugin,
your form (with action="/cart") layout will be used in the drawer/modal.

For info on test orders:
- General http://docs.shopify.com/manual/your-store/orders/test-orders
- Shopify Payments - http://docs.shopify.com/manual/more/shopify-payments/testing-shopify-payments

{% endcomment %}

{% if cart.item_count > 0 %}

<form action="/cart" method="post" novalidate>


    {% comment %}
    Loop through products in the cart
    {% endcomment %}

    {% for item in cart.items %}

    <div class="cart-row row" data-id="{{ item.id }}">

        <div class="grid grid--centered">

            <div class="grid__item two-thirds palm-one-whole">

                <div class="grid grid--centered">

                    <div class="grid__item three-twelfths palm-one-whole">
                        <a class="img--block" href="{{ item.product.url | within: collections.all }}">
                            <img class="img--cart" src="{{ item.product.featured_image.src | product_img_url: 'medium' }}" alt="{{ item.title | escape }}">
                        </a>
                    </div>{% comment %}

                    If you want the product title and any variants in one line, use {{ item.title }}.
                    Below they've been separated for styling purposes.
                    {% endcomment %}<div class="grid__item  soft--top palm-one-whole text--center--palm nine-twelfths">
                        <p class="delta">
                            <a href="{{ item.product.url }}">
                                {{ item.product.title }}
                            </a>
                            {% if item.product.variants.size > 1 %}
                            {% unless item.variant.title contains 'Default' %}
                            <span class="epsilon block-level">{{ item.variant.title }}</span>
                            {% endunless %}
                            {% endif %}

                        </p>

                        {% comment %}
                        Optional, loop through custom product line items if available

                        For more info on line item properties, visit:
                        - http://docs.shopify.com/support/your-store/products/how-do-I-collect-additional-information-on-the-product-page-Like-for-a-monogram-engraving-or-customization
                        {% endcomment %}
                        {% if item.properties.size > 0 %}
                        <p>
                            {% for p in item.properties %}
                            {% unless p.last == blank %}
                            {{ p.first }}:

                            {% comment %}
                            Check if there was an uploaded file associated
                            {% endcomment %}
                            {% if p.last contains '/uploads/' %}
                            <a href="{{ p.last }}">{{ p.last | split: '/' | last }}</a>
                            {% else %}
                            {{ p.last }}
                            {% endif %}

                            <br>
                            {% endunless %}
                            {% endfor %}
                        </p>
                        {% endif %}
                    </div>

                </div>
            </div>{% comment %}

            {% endcomment %}<div class="grid__item one-third palm-one-whole">
                <div class="grid">

                    <div class="grid__item  soft--top four-twelfths text--right palm-five-twelfths ">
                        {% comment %}
                        Added data-id for the ajax cart implementation only.
                        {% endcomment %}
                        <input type="number"  name="updates[]" id="updates_{{ item.id }}" value="{{ item.quantity }}" min="0" data-id="{{ item.id }}">
                    </div>{% comment %}

                    {% endcomment %}<div class="grid__item  soft--top four-twelfths text--right--palm palm-five-twelfths ">
                        <span class="gamma">{{ item.price | money }}</span>
                    </div>{% comment %}

                    {% endcomment %}<div class="grid__item soft--top four-twelfths palm-two-twelfths  ">
                        {% comment %}
                        To remove an item from the cart, reload the page with the following parameters.
                        Added data-id for the ajax cart implementation only.
                        {% endcomment %}
                        <a class="milli" href="/cart/change?line={{ forloop.index }}&amp;quantity=0" data-id="{{ item.id }}">Remove</a>
                    </div>

                </div>
            </div>

        </div>
    </div>

    {% endfor %}

    <div class="cart-row">
        <div class="grid">

            {% comment %}
            Optional, add a textarea for special notes
            - Your theme settings can turn this on or off. Default is on.
            - Make sure you have name="note" for the message to be submitted properly

            {% if settings.cart_notes %}
            <div class="grid__item desk--one-half">
                <label for="cartSpecialInstructions">Special instructions for seller</label>
                <textarea name="note" class="input-full" id="cartSpecialInstructions">{{ cart.note }}</textarea>
            </div>
            {% endif %}
            {% endcomment %}
            {% comment %}
            If notes are used, adjust the column width
            {% endcomment %}
            <div class="grid__item text--right ">

                <div class="cart-subtotal soft--bottom ">
                    <span class="epsilon">Subtotal</span>
                    <span class="soft-half--left beta">$</span>
                    <span class="beta cart-subtotal--price">{{ cart.total_price | money }}</span>
                </div>

                {% comment %}
                name="update" is required for the update button to work
                {% endcomment %}
                <input type="submit" name="update" class="btn--secondary btn update-cart" value="Update cart">

                {% comment %}
                name="checkout" is required for the update button to work
                {% endcomment %}
                <input type="submit" name="checkout" class="btn btn--primary" value="Check out">

                {% comment %}
                Paypal and Google checkout buttons
                {% endcomment %}
                {% if additional_checkout_buttons %}
                <p>{{ content_for_additional_checkout_buttons }}</p>
                {% endif %}

            </div>

        </div>
    </div>

</form>

{% else %}

{% comment %}
It's likely people won't have items in the cart sometimes.
Do something fun here, it's a great chance to show your company's human side.
{% endcomment %}
<section class="soft-double text--center">
    <hgroup>
        <h1>It appears that your cart is currently empty.</h1>
        <h2><a href="/collections/all">Continue browsing</a></ph2>
    </hgroup>
</section>
{% endif %}
